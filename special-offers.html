<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Special Offers — YASK KIRANA STORES</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet"/>
  <style>
    :root{--c1:#CDCBD6;--c2:#A6A0AA;--c3:#555356;--c4:#5A1E20;--c5:#330F0F;--c6:#100E0F}
    body{font-family:'Montserrat';background:linear-gradient(180deg,var(--c1),var(--c2));color:var(--c6)}
    .offer-card{min-width:220px; border-radius:12px; overflow:hidden; background:white}
  </style>
</head>
<body>
  <nav class="bg-[var(--c6)] text-white p-4">
    <div class="max-w-6xl mx-auto flex items-center justify-between">
      <a href="index.html" class="font-bold">YASK KIRANA STORES</a>
      <div class="hidden md:flex gap-6">
        <a href="index.html">HOME</a>
        <a href="daily.html">DAILY NEEDS</a>
        <a href="special-offers.html">SPECIAL OFFERS</a>
        <a href="about.html">ABOUT</a>
      </div>
      <a href="cart.html" class="bg-[var(--c4)] px-3 py-2 rounded">Cart</a>
    </div>
  </nav>

  <main class="max-w-6xl mx-auto p-6">
    <h2 class="text-2xl font-bold mb-4">Special Offers & Upcoming Sales</h2>

    <!-- poster -->
    <section class="soft-card p-6 rounded-lg mb-8">
      <div class="md:flex gap-6 items-center">
        <div class="flex-1">
          <h3 class="text-xl font-bold">Mega Sale: Festival Week</h3>
          <p class="text-[var(--c6)] mt-2">Get ready — exclusive discounts across essentials. Save big on bundles and limited-time posters.</p>
          <ul class="mt-3 text-sm text-[var(--c6)]">
            <li>• Extra ₹50 off on orders above ₹999</li>
            <li>• Flash deals every day at 6PM</li>
            <li>• Special bundles for families</li>
          </ul>
        </div>
        <div class="w-full md:w-80 h-44 rounded overflow-hidden">
          <img src="images/offerPoster.jpg" onerror="this.src='https://via.placeholder.com/400x220?text=Offer+Poster'" class="w-full h-full object-cover rounded">
        </div>
      </div>
    </section>

    <!-- carousel -->
    <section>
      <div class="flex items-center justify-between mb-4">
        <h4 class="font-semibold">Upcoming Mega Sale Items</h4>
        <div>
          <button id="prev" class="px-3 py-1 rounded border">Prev</button>
          <button id="next" class="px-3 py-1 rounded border ml-2">Next</button>
        </div>
      </div>

      <div id="carouselWrap" class="overflow-hidden">
        <div id="carousel" class="flex gap-5 will-change-transform">
          <!-- JS will inject 20 offer cards -->
        </div>
      </div>
    </section>
  </main>

  <script>
    // create 20 offers
    const offers = [];
    for(let i=1;i<=20;i++){
      offers.push({id:'o'+i, title:'Offer Item '+i, price: (Math.floor(Math.random()*500)+49), img:`images/offer${i}.jpg`});
    }

    const c = document.getElementById('carousel');
    offers.forEach(o=>{
      const card = document.createElement('div');
      card.className = 'offer-card p-3';
      card.style.width = '220px';
      card.innerHTML = `
        <div class="h-36 overflow-hidden rounded">
          <img src="${o.img}" onerror="this.src='https://via.placeholder.com/220x160?text=Offer+${o.id}'" class="w-full h-full object-cover">
        </div>
        <div class="mt-2">
          <div class="font-semibold">${o.title}</div>
          <div class="text-sm text-[var(--c2)]">Limited stock</div>
          <div class="mt-2 font-bold">₹${o.price}</div>
        </div>
      `;
      c.appendChild(card);
    });

    // GSAP automatic horizontal loop
    const wrap = document.getElementById('carouselWrap');
    const carousel = document.getElementById('carousel');
    let pos = 0;
    function animateLoop(){
      gsap.to(carousel, { x: '-=220', duration: 2.5, ease: 'power1.inOut', onComplete: ()=>{
        // move first child to end to create infinite effect
        carousel.appendChild(carousel.children[0]);
        carousel.style.transform = 'translateX(0)';
        requestAnimationFrame(animateLoop);
      }});
    }
    // start after small delay for smoothness
    setTimeout(animateLoop, 700);

    // prev / next buttons (manual)
    document.getElementById('next').addEventListener('click', ()=> {
      gsap.to(carousel, { x: '-=220', duration: 0.4, ease:'power1.inOut', onComplete: ()=> { carousel.appendChild(carousel.children[0]); carousel.style.transform='translateX(0)'; } });
    });
    document.getElementById('prev').addEventListener('click', ()=> {
      // move last to front then shift left then animate back
      const last = carousel.children[carousel.children.length-1];
      carousel.insertBefore(last, carousel.children[0]);
      gsap.fromTo(carousel, {x:'-220px'}, {x: '0px', duration:0.4, ease:'power1.inOut'});
    });
  </script>
</body>
</html>
